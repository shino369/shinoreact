"use strict";(self.webpackChunkshinoreact=self.webpackChunkshinoreact||[]).push([[270],{270:function(e,t,n){n.r(t),n.d(t,{DetailPage:function(){return j}});var r=n(4165),s=n(1413),a=n(5861),c=n(885),i=n(2791),d=n(9434),o=n(3504),u=n(9478),l=n(9062),h=n(2126),f=n(2426),x=n.n(f),p=n(9051),m=n(184),j=function(){var e=(0,d.I0)(),t=((0,d.v9)((function(e){return e.auth})).user,(0,i.useState)([])),n=(0,c.Z)(t,2),f=n[0],j=n[1],v=(0,i.useState)("entertainment"),b=(0,c.Z)(v,2),Z=b[0],w=b[1];(0,i.useEffect)((function(){e((0,u.wC)("posts"))}),[e]);var g=(0,i.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=(0,l.IO)((0,l.hJ)(h.db,"feeds"),(0,l.ar)("category","==","".concat(Z))),e.next=4,(0,l.PL)(n);case 4:e.sent.forEach(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,l.IO)((0,l.hJ)(n.ref,"posts"),(0,l.Xo)("createdAt","desc"),(0,l.b9)(20)),e.next=3,(0,l.PL)(a);case 3:e.sent.forEach((function(e){console.log(e.id," => ",e.data()),t.push((0,s.Z)((0,s.Z)({id:e.id},e.data()),{},{updatedAt:x()(e.data().updatedAt.toDate()).format("YYYY-MM-DD HH:mm:ss"),createdAt:x()(e.data().createdAt.toDate()).format("YYYY-MM-DD HH:mm:ss")}))})),j(t),console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),[Z]);return(0,i.useEffect)((function(){g()}),[g]),(0,m.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center p-4",children:[(0,m.jsx)("div",{children:"Posts"}),(0,m.jsxs)("div",{className:"w-100 px-4",children:[(0,m.jsx)("select",{className:"mb-2",value:Z,onChange:function(e){w(e.target.value)},children:(0,m.jsx)("option",{value:"entertainment",children:"entertainment"})}),(0,m.jsx)("div",{className:"w-100 border rounded",children:(0,m.jsxs)(p.iA,{borderless:!0,hover:!0,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"user"}),(0,m.jsx)("th",{children:"post"}),(0,m.jsx)("th",{children:"last update"})]})}),(0,m.jsx)("tbody",{children:f.map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.author}),(0,m.jsx)("td",{children:e.title}),(0,m.jsx)("td",{children:e.updatedAt})]},e.id)}))})]})})]}),(0,m.jsx)(o.rU,{to:"/",children:"go back to home"})]})}}}]);
//# sourceMappingURL=270.f4df61c0.chunk.js.map
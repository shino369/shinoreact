"use strict";(self.webpackChunkshinoreact=self.webpackChunkshinoreact||[]).push([[316],{54316:function(e,t,s){s.r(t),s.d(t,{ChatPage:function(){return v}});var a=s(74165),r=s(15861),n=s(70885),i=s(72791),o=s(59434),c=s(39478),d=s(9062),l=s(18643),u=s(80922),m=s(73221),h=s(55705),p=s(81724),f=s(80184),x=p.Ry().shape({msg:p.Z_().required("required")}),v=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.auth})).user,s=(0,i.useState)([]),p=(0,n.Z)(s,2);p[0],p[1];(0,i.useEffect)((function(){e((0,c.wC)("chat"))}),[e]);var v=(0,d.IO)((0,d.hJ)(l.db,"messages"),(0,d.Xo)("createdAt"),(0,d.b9)(100)),b=(0,u.sQ)(v),g=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(s,r){var n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.msg,!((i=n.trim()).length>0)){e.next=8;break}return(0,d.hJ)(l.db,"messages"),o={uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,message:i,createdAt:d.EK.now()},e.next=7,(0,d.ET)((0,d.hJ)(l.db,"messages"),o);case 7:e.sent;case 8:r.resetForm(),console.log("values",s);case 10:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return(0,f.jsx)("div",{className:"d-flex justify-content-center chatroom-wrapper p-4",children:(0,f.jsxs)("div",{className:"chatroom rounded overflow-hidden shadow d-flex flex-column",children:[(0,f.jsx)("div",{className:"room-title border-bottom text-center py-3 shadow",children:"Real-Time Chat Room"}),(0,f.jsx)("div",{className:"room-content hideScroll",children:b.map((function(e,s){return(0,f.jsx)(m.z5,{name:e.name,message:e.message,self:(null===t||void 0===t?void 0:t.uid)===(null===e||void 0===e?void 0:e.uid),avatar:e.photoURL,uid:e.uid,createdAt:e.createdAt},s)}))}),(0,f.jsx)("div",{className:"border-top pt-3",children:(0,f.jsx)(h.J9,{initialValues:{msg:""},validationSchema:x,onSubmit:g,children:function(){return(0,f.jsxs)(h.l0,{className:"d-flex w-100 px-4",children:[(0,f.jsx)("div",{className:"col",children:(0,f.jsx)(m.UP,{name:"msg",placeholder:"Input something...",type:"text",showError:!1})}),(0,f.jsx)("div",{className:"",children:(0,f.jsx)("button",{className:"btn btn-primary btn-block",type:"submit",children:"SEND"})}),(0,f.jsx)("div",{className:"mt-4 text-center"})]})}})})]})})}}}]);
//# sourceMappingURL=316.eedccfcb.chunk.js.map
"use strict";(self.webpackChunkshinoreact=self.webpackChunkshinoreact||[]).push([[521],{88521:function(e,t,n){n.r(t),n.d(t,{LoginPage:function(){return b}});var r=n(74165),s=n(15861),a=n(72791),i=n(59434),o=n(43504),c=n(16871),u=n(39478),l=n(81724),d=n(8025),p=n(28439),h=n(10065),f=n(9062),g=n(18643),m=n(80184),b=(l.Ry().shape({username:l.Z_().required("required"),password:l.Z_().required("required")}),function(){var e=(0,i.I0)(),t=(0,c.s0)(),l=(0,i.v9)((function(e){return e.auth}));l.user,l.isAuthenticated;(0,a.useEffect)((function(){e((0,u.wC)("login"))}),[e]);var b=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var s,a,i,o,c,u,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,h.K4)(!0)),s=new p.hJ,a=(0,p.v0)(),n.prev=3,n.next=6,(0,p.rh)(a,s);case 6:return i=n.sent,o=i.user,e((0,d.Wz)(!0)),e((0,d.av)(o)),c=(0,f.JU)(g.db,"users",o.uid),n.next=13,(0,f.QT)(c);case 13:if(n.sent.exists()){n.next=20;break}return u={uid:o.uid,email:o.email||"",displayName:o.displayName||"",photoURL:o.photoURL||"",role:"user",createdAt:f.EK.now(),updatedAt:f.EK.now()},n.next=18,(0,f.pl)((0,f.JU)(g.db,"users",o.uid),u);case 18:n.next=23;break;case 20:return l={displayName:o.displayName||"",photoURL:o.photoURL||"",updatedAt:f.EK.now()},n.next=23,(0,f.r7)((0,f.JU)(g.db,"users",o.uid),l);case 23:e((0,h.K4)(!1)),setTimeout((function(){console.log("navigate to chat"),t("/chat")}),500),n.next=31;break;case 27:n.prev=27,n.t0=n.catch(3),console.log(n.t0),e((0,h.K4)(!1));case 31:case"end":return n.stop()}}),n,null,[[3,27]])})));return function(){return n.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"p-4 d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("p",{className:"remark",style:{fontSize:"0.8rem"},children:"Make use of firebase authentication Please enable broswer popup for login"}),(0,m.jsxs)("button",{onClick:b,style:{backgroundColor:"rgb(55, 85, 168)",color:"white"},className:"btn button-primary google d-flex align-items-center p-2 mb-2",children:[(0,m.jsx)("div",{className:"bg-white p-2 me-2",children:(0,m.jsx)("img",{width:30,height:30,src:n(24001),alt:"google"})}),(0,m.jsx)("div",{className:"signIn",children:"Sign in with Google"})]}),(0,m.jsx)(o.rU,{to:"/",children:"go back to home"})]})})},24001:function(e,t,n){e.exports=n.p+"static/media/google.4ff9a5f6e189dba3d48e.png"}}]);
//# sourceMappingURL=521.cea809c5.chunk.js.map
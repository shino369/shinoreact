"use strict";(self.webpackChunkshinoreact=self.webpackChunkshinoreact||[]).push([[521],{88521:function(e,r,t){t.r(r),t.d(r,{LoginPage:function(){return g}});var n=t(74165),s=t(15861),i=t(72791),a=t(59434),o=t(43504),c=t(16871),l=t(39478),u=t(81724),d=t(8025),h=t(28439),m=t(10065),p=t(9062),f=t(18643),x=t(80184),g=(u.Ry().shape({username:u.Z_().required("required"),password:u.Z_().required("required")}),function(){var e=(0,a.I0)(),r=(0,c.s0)(),u=(0,a.v9)((function(e){return e.auth}));u.user,u.isAuthenticated;(0,i.useEffect)((function(){e((0,l.wC)("login"))}),[e]);var g=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(){var s,i,a,o,c,l,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e((0,m.K4)(!0)),s=new h.hJ,i=(0,h.v0)(),t.prev=3,t.next=6,(0,h.rh)(i,s);case 6:return a=t.sent,o=a.user,e((0,d.Wz)(!0)),e((0,d.av)(o)),c=(0,p.JU)(f.db,"users",o.uid),t.next=13,(0,p.QT)(c);case 13:if(t.sent.exists()){t.next=20;break}return l={uid:o.uid,email:o.email||"",displayName:o.displayName||"",photoURL:o.photoURL||"",role:"user",createdAt:p.EK.now(),updatedAt:p.EK.now()},t.next=18,(0,p.pl)((0,p.JU)(f.db,"users",o.uid),l);case 18:t.next=23;break;case 20:return u={displayName:o.displayName||"",photoURL:o.photoURL||"",updatedAt:p.EK.now()},t.next=23,(0,p.r7)((0,p.JU)(f.db,"users",o.uid),u);case 23:e((0,m.K4)(!1)),setTimeout((function(){console.log("navigate to chat"),r("/chat")}),500),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(3),console.log(t.t0),e((0,m.K4)(!1));case 31:case"end":return t.stop()}}),t,null,[[3,27]])})));return function(){return t.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"p-4 d-flex flex-column justify-content-center align-items-center",children:[(0,x.jsx)("p",{className:"remark",style:{fontSize:"0.8rem"},children:"Make use of firebase authentication. Please enable broswer popup for login."}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-danger text-center",children:"Disclaimer"}),(0,x.jsx)("div",{children:"Server will only store the following data returned by firebase:"}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)("ul",{className:"remark mb-1",style:{fontSize:"0.8rem"},children:[(0,x.jsx)("li",{children:"firebase auto-generated uid"}),(0,x.jsx)("li",{children:"your gmail"}),(0,x.jsx)("li",{children:"your google account display name"}),(0,x.jsx)("li",{children:"avatar"})]})}),(0,x.jsx)("div",{className:"mb-2 text-center",children:"And will not be used for commercial purposes."})]}),(0,x.jsxs)("button",{onClick:g,style:{backgroundColor:"rgb(55, 85, 168)",color:"white"},className:"btn button-primary google d-flex align-items-center p-2 mb-2",children:[(0,x.jsx)("div",{className:"bg-white p-2 me-2",children:(0,x.jsx)("img",{width:30,height:30,src:t(24001),alt:"google"})}),(0,x.jsx)("div",{className:"signIn",children:"Sign in with Google"})]}),(0,x.jsx)(o.rU,{to:"/",children:"go back to home"})]})})},24001:function(e,r,t){e.exports=t.p+"static/media/google.4ff9a5f6e189dba3d48e.png"}}]);
//# sourceMappingURL=521.6d58362b.chunk.js.map